<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"  "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<package name="campus-usuario-default" extends="campus-default" namespace="/">
		<action name="MisDatos" method="misDatos"
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<result name="success">/comun/misdatos/misdatos.jsp</result>
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>
		
		<action name="CambioEmail" method="cambiarEmail"
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>
		
		<action name="DatosClave" method="cambiarClave"
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>
		
		<action name="MiFoto" method="miFoto" 
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<result name="success">/comun/misdatos/misdatos.jsp</result>
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>
		
		<action name="SolicitarCambioDatos" method="solicitarCambioDatos"
			class="edu.tecsup.lms.action.buzon.BuzonAction">
			<interceptor-ref name="usuario-campus"></interceptor-ref>
			<result name="success" type="redirect-action">
				MisDatos?message=${message}
			</result>
		</action>
		
		<action name="Directorio" method="buscar"
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<result name="success">/comun/directorio/directorio.jsp</result>
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>
		
		<action name="VerFoto" method="verFoto"
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>
				
	</package>
	<package name="campus-usuario-admin" extends="campus-default" namespace="/admin/usuario">
		<action name="Monitoreo" method="cargarConectados"
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<result name="success">/admin/monitoreo/monitoreo.jsp</result>
			<interceptor-ref name="administrador-campus"></interceptor-ref>
		</action>
		<action name="Buscar" method="buscar"
			class="edu.tecsup.lms.action.usuario.GestorUsuarioAction">
			<result name="success">/admin/usuario/admin_usuario_buscar.jsp</result>
			<interceptor-ref name="administrador-campus"></interceptor-ref>
		</action>
		<action name="VerFoto" method="verFoto"
			class="edu.tecsup.lms.action.usuario.GestorUsuarioAction">
			<interceptor-ref name="administrador-campus"></interceptor-ref>
		</action>
		<action name="DatosUsuario" method="datosUsuario"
			class="edu.tecsup.lms.action.usuario.GestorUsuarioAction">
			<result name="success">/admin/usuario/admin_usuario_datos.jsp</result>
			<interceptor-ref name="administrador-campus"></interceptor-ref>
		</action>
		<action name="RestablecerClave" method="restablecerClave"
			class="edu.tecsup.lms.action.usuario.GestorUsuarioAction">
			<interceptor-ref name="administrador-campus"></interceptor-ref>
		</action>
		
		<action name="Nuevo" method="nuevo"
			class="edu.tecsup.lms.action.usuario.GestorUsuarioAction">
			<result name="success">/admin/usuario/admin_usuario_crear.jsp</result>
			<interceptor-ref name="administrador-campus"></interceptor-ref>
		</action>
		<action name="Crear" method="crear"
			class="edu.tecsup.lms.action.usuario.GestorUsuarioAction">
			<result name="success" type="redirect-action">Buscar</result>
			<result name="input">/admin/usuario/admin_usuario_crear.jsp</result>
			<interceptor-ref name="campusfileUpload-images"/>
			<interceptor-ref name="administrador-campus"></interceptor-ref>
		</action>
		<action name="Ubigeo" method="ubigeo"
			class="edu.tecsup.lms.action.usuario.GestorUsuarioAction">
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>	
		
		<action name="Editar" method="editar"
			class="edu.tecsup.lms.action.usuario.GestorUsuarioAction">
			<result name="success">/admin/usuario/admin_usuario_crear.jsp</result>
			<interceptor-ref name="administrador-campus"></interceptor-ref>
		</action>
		
		<action name="Verificar" method="verificarUsuario"
			class="edu.tecsup.lms.action.usuario.GestorUsuarioAction">
			<interceptor-ref name="administrador-campus"></interceptor-ref>
		</action>				
	</package>
	
	<package name="campus-usuario" extends="campus-default" namespace="/usuario">
	
		<action name="CargarPortada" method="cargarPortada"
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<result name="success">
				/comun/portal/servicio_cumpleanos.jsp
			</result>
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>
		
		<action name="CargarConectadosEnChat" method="cargarConectadosEnChat"
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<result name="success">
				/comun/portal/servicio_chat.jsp
			</result>
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>
		
		<action name="CargarConectados" method="cargarConectados"
			class="edu.tecsup.lms.action.usuario.UsuarioAction">
			<result name="success">
				/comun/portal/servicio_conectados.jsp
			</result>
			<interceptor-ref name="usuario-campus"></interceptor-ref>
		</action>
	
	</package>


</struts>
